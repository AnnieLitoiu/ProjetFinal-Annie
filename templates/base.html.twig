<!DOCTYPE html>
<html lang="fr-BE">
	<head>
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>
			{% block title %}Welcome!
			{% endblock %}
		</title>

		<link rel="icon" href="{{ asset('/assets/images/quiz-icon.svg') }}" type="image/svg+xml"/>

		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"/>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

		{% block stylesheets %}
			<link rel="stylesheet" href="{{ asset('assets/css/style.css') }}"/>
		{% endblock %}

		{% block importmap %}
			{{ importmap('app') }}
		{% endblock %}
	</head>

	<body>
		{% block navigation %}
			{% set route = app.request.attributes.get('_route') %}
			<nav class="navbar navbar-custom px-3 py-2" aria-label="Navigation principale" role="navigation">
				<div
					class="container-fluid d-flex justify-content-between align-items-center" role="navigation">

					<!-- Zone gauche : bouton Accueil -->
					<a href="{{ path('accueil_welcome') }}" class="btn btn-outline-turquoise btn-sm">
						Accueil
					</a>

					<!-- Zone droite : boutons utilisateur -->
					<div>
						{% if app.user %}
							{% if is_granted('ROLE_ADMIN') %}
								<a href="{{ path('admin_users') }}" class="btn btn-outline-turquoise btn-sm me-2">
									Admin
								</a>
							{% endif %}
							<a href="{{ path('utilisateur_activity') }}" class="btn btn-outline-turquoise btn-sm me-2">
								Voir mon activité
							</a>
							<a href="{{ path('app_logout') }}" class="btn btn-outline-turquoise btn-sm me-2">
								Se déconnecter
							</a>
						{% else %}
							{% if route not in ['app_login', 'app_register'] %}
								<a href="{{ path('app_login') }}" class="btn btn-outline-turquoise btn-sm me-2">
									Se connecter
								</a>
							{% endif %}
						{% endif %}

						{% if route == 'app_quiz_liste' %}
							<a href="{{ path('accueil_list_niveaux') }}" class="btn btn-outline-turquoise btn-sm">
								Changer de niveau
							</a>
						{% endif %}
					</div>
				</div>
			</nav>
		{% endblock %}

		<main id="main-content" class="container mt-4" role="main"> {% block body %}{% endblock %}
			</main>
		</body>
	</html>
