{% extends 'base.html.twig' %}

{% block title %}Créer un compte{% endblock %}

{% block body %}
    {# Message de succès après inscription #}
    {% for message in app.flashes('success') %}
        <div class="alert alert-success" role="alert">
            {{ message }}
        </div>
    {% endfor %}

    {% if app.user %}
        <div class="mb-3">
            Vous êtes déjà connecté en tant que : {{ app.user.userIdentifier }}
            <a class="btn btn-outline-turquoise btn-sm" href="{{ path('app_logout') }}">Se déconnecter</a>
        </div>
    {% endif %}

    <h1 class="h3 mb-3 font-weight-normal">Créer un compte</h1>

    {{ form_start(registrationForm) }}

        <label for="prenom">Prénom</label>
        {{ form_widget(registrationForm.prenom, {
            attr: {'class': 'form-control', 'id': 'prenom', 'placeholder': 'Entrez votre prénom'}
        }) }}
        <br>

        <label for="nom">Nom</label>
        {{ form_widget(registrationForm.nom, {
            attr: {'class': 'form-control', 'id': 'nom', 'placeholder': 'Entrez votre nom'}
        }) }}
        <br>

        <label for="email">Email</label>
        {{ form_widget(registrationForm.email, {
            attr: {'class': 'form-control', 'id': 'email', 'autocomplete': 'email'}
        }) }}
        <br>

        <label for="password">Mot de passe</label>
        {{ form_widget(registrationForm.plainPassword, {
            attr: {'class': 'form-control', 'id': 'password', 'autocomplete': 'new-password'}
        }) }}
        <br>

        <button class="btn btn-outline-turquoise btn-sm" type="submit">
            S'enregistrer
        </button>

    {{ form_end(registrationForm) }}

    <p class="mt-3">
        Déjà inscrit ? <a href="{{ path('app_login') }}">Se connecter</a>
    </p>
{% endblock %}
